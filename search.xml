<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>RESTful API</title>
      <link href="/wiki/web/JavaScript/RESTful_API/"/>
      <url>/wiki/web/JavaScript/RESTful_API/</url>
      
        <content type="html"><![CDATA[<blockquote><p><strong>RESTful API</strong> 是遵循 <strong>REST（Representational State Transfer，表述性状态转移）</strong> 架构风格设计的 API。<br>REST 是 Roy Fielding 博士在 2000 年提出的一种软件架构风格，强调通过 <strong>HTTP 协议</strong>、<strong>资源</strong> 与 <strong>统一接口</strong> 来构建可扩展、松耦合的 Web 服务。</p></blockquote><p>RESTful API 通过 <strong>URL 定位资源</strong>，使用 <strong>HTTP 方法（GET、POST、PUT、DELETE 等）</strong> 描述对资源的操作，实现客户端与服务器之间清晰、标准化的交互。</p><hr><h2 id="一、REST-架构的核心约束">一、REST 架构的核心约束</h2><h3 id="1-无状态（Stateless）">1. 无状态（Stateless）</h3><ul><li>每个请求都必须包含服务器处理该请求所需的全部信息</li><li>服务器不保存客户端会话状态</li><li>有利于服务横向扩展</li></ul><h3 id="2-客户端-服务器分离（Client-Server）">2. 客户端-服务器分离（Client-Server）</h3><ul><li>前后端职责清晰</li><li>客户端只关注 UI 和交互</li><li>服务端只关注业务逻辑和数据</li></ul><h3 id="3-统一接口（Uniform-Interface）">3. 统一接口（Uniform Interface）</h3><ul><li>使用统一的 URI 风格定位资源</li><li>使用标准 HTTP 方法描述行为</li><li>使用统一的数据表示格式（如 JSON）</li></ul><h3 id="4-可缓存（Cacheable）">4. 可缓存（Cacheable）</h3><ul><li>响应需明确是否可缓存</li><li>合理使用缓存可显著提升性能</li></ul><h3 id="5-分层系统（Layered-System）">5. 分层系统（Layered System）</h3><ul><li>客户端无需关心请求经过了多少中间层</li><li>支持网关、负载均衡、代理等架构</li></ul><h2 id="二、资源设计规范">二、资源设计规范</h2><h3 id="1-资源命名">1. 资源命名</h3><ul><li>使用<strong>名词</strong>而非动词</li><li>使用<strong>复数形式</strong>表示资源集合</li><li>使用小写字母，单词间用 <code>-</code> 连接</li></ul><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET /api/users</span><br><span class="line">GET /api/users/1001</span><br></pre></td></tr></table></figure><h3 id="2-资源层级关系">2. 资源层级关系</h3><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET /api/users/1001/orders</span><br></pre></td></tr></table></figure><p>表示：获取用户 <code>1001</code> 的订单列表</p><hr><h2 id="三、HTTP-方法规范">三、HTTP 方法规范</h2><h3 id="1-GET-——-查询资源">1. GET —— 查询资源</h3><blockquote><p><strong>用于从服务器获取资源，不应产生副作用</strong></p></blockquote><p><strong>示例：</strong></p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET /api/users/1001</span><br><span class="line">GET /api/users?name=tom&amp;age=18</span><br></pre></td></tr></table></figure><p><strong>特性：</strong></p><ul><li>安全（Safe）：不修改服务器数据</li><li>幂等（Idempotent）：多次请求结果一致</li><li>可被缓存</li><li>参数通常通过 URL Query 传递</li></ul><hr><h3 id="2-POST-——-创建资源">2. POST —— 创建资源</h3><blockquote><p><strong>用于创建新资源或触发非幂等操作</strong></p></blockquote><p><strong>示例：</strong></p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">POST /api/users</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/json</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;Tom&quot;,</span><br><span class="line">  &quot;age&quot;: 18</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>特性：</strong></p><ul><li>非幂等</li><li>不会被缓存</li><li>请求体通常为 JSON</li></ul><hr><h3 id="3-PUT-——-更新-替换资源">3. PUT —— 更新/替换资源</h3><blockquote><p><strong>用于整体替换某个已存在的资源</strong></p></blockquote><p><strong>示例：</strong></p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">PUT /api/users/1001</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/json</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;Tom&quot;,</span><br><span class="line">  &quot;age&quot;: 20</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>特性：</strong></p><ul><li>幂等</li><li>客户端需提供资源的完整表示</li></ul><hr><h3 id="4-PATCH-——-部分更新资源">4. PATCH —— 部分更新资源</h3><blockquote><p><strong>用于更新资源的部分字段（推荐）</strong></p></blockquote><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">PATCH /api/users/1001</span><br><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/json</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  &quot;age&quot;: 21</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="5-DELETE-——-删除资源">5. DELETE —— 删除资源</h3><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DELETE /api/users/1001</span><br></pre></td></tr></table></figure><p><strong>特性：</strong></p><ul><li>幂等</li><li>多次删除同一资源结果一致</li></ul><hr><h2 id="四、HTTP-状态码规范">四、HTTP 状态码规范</h2><table><thead><tr><th>状态码</th><th>含义</th><th>说明</th></tr></thead><tbody><tr><td>200</td><td>OK</td><td>请求成功</td></tr><tr><td>201</td><td>Created</td><td>资源创建成功</td></tr><tr><td>204</td><td>No Content</td><td>删除/更新成功，无返回体</td></tr><tr><td>400</td><td>Bad Request</td><td>参数错误</td></tr><tr><td>401</td><td>Unauthorized</td><td>未认证</td></tr><tr><td>403</td><td>Forbidden</td><td>无权限</td></tr><tr><td>404</td><td>Not Found</td><td>资源不存在</td></tr><tr><td>409</td><td>Conflict</td><td>资源冲突</td></tr><tr><td>500</td><td>Internal Server Error</td><td>服务器错误</td></tr></tbody></table><hr><h2 id="五、请求与响应规范">五、请求与响应规范</h2><h3 id="1-请求头（Headers）">1. 请求头（Headers）</h3><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Content-Type</span><span class="punctuation">: </span>application/json</span><br><span class="line"><span class="attribute">Authorization</span><span class="punctuation">: </span>Bearer &lt;token&gt;</span><br></pre></td></tr></table></figure><h3 id="2-统一响应结构（示例）">2. 统一响应结构（示例）</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;code&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;success&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="number">1001</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Tom&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><hr><h2 id="六、分页、排序与过滤">六、分页、排序与过滤</h2><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET /api/users?page=1&amp;pageSize=20&amp;sort=createdAt,desc</span><br></pre></td></tr></table></figure><p><strong>分页响应示例：</strong></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;total&quot;</span><span class="punctuation">:</span> <span class="number">120</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;page&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;pageSize&quot;</span><span class="punctuation">:</span> <span class="number">20</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;list&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><hr><h2 id="七、RESTful-API-最佳实践">七、RESTful API 最佳实践</h2><ul><li>使用 HTTPS</li><li>合理设计版本号</li></ul><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/api/v1/users</span><br></pre></td></tr></table></figure><ul><li>避免在 URL 中暴露敏感信息</li><li>错误信息清晰、可读</li><li>接口保持向后兼容</li></ul><hr><h2 id="八、总结">八、总结</h2><p>RESTful API 的核心在于：</p><ul><li><strong>资源清晰</strong></li><li><strong>语义明确</strong></li><li><strong>遵循 HTTP 规范</strong></li></ul><p>良好的 RESTful API 设计可以显著提升系统的可维护性、可扩展性以及前后端协作效率。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Web </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
